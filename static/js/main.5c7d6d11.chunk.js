(this["webpackJsonpcu-truck-simulator"]=this["webpackJsonpcu-truck-simulator"]||[]).push([[0],{34:function(e,t,a){e.exports=a(56)},39:function(e,t,a){},41:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),u=(a(39),a(40),a(41),a(14)),o=a(15),m=a(17),i=a(16),s=a(30),h=a.n(s);h.a.initializeApp({apiKey:"AIzaSyCu3ttg9voQH78fk8RQwV6ioz3H4zyfrHg",authDomain:"cu-truck-simulator.firebaseapp.com",databaseURL:"https://cu-truck-simulator.firebaseio.com",projectId:"cu-truck-simulator",storageBucket:"cu-truck-simulator.appspot.com",messagingSenderId:"683796677635",appId:"1:683796677635:web:b7620bad16571aba737a36"});var p=h.a,d=a(10),b=a(13),E=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={truck:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.firestore().collection("truck").orderBy("number").orderBy("timestamp").onSnapshot((function(t){var a=t.docs.map((function(e){return e.data()}));console.log(a),e.setState({truck:a})}))}},{key:"componentWillUnmount",value:function(){this.load()}},{key:"render",value:function(){return r.a.createElement("div",{className:"mb-2"},this.state.truck.map((function(e,t){return r.a.createElement(d.a,{key:t,className:"mb-2"},r.a.createElement(d.a.Header,{as:"h5"},"Truck #",t+1),r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,null,"Tractor \u62d6\u982d"," ",r.a.createElement("a",{href:"https://t.me/"+e.telegram},"@",e.telegram)),r.a.createElement(b.a,{variant:"flush"},e.trailers.map((function(e,t){return r.a.createElement(b.a.Item,{key:t},"Trailer \u8eca\u5361"," ",r.a.createElement("a",{href:"https://t.me/"+e},"@",e))})))))})))}}]),a}(r.a.Component),g=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={trailers:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.firestore().collection("queue").where("type","==","trailer").where("number",">",0).orderBy("number").orderBy("timestamp").onSnapshot((function(t){var a=t.docs.map((function(e){return e.data()}));console.log(a),e.setState({trailers:a})}))}},{key:"componentWillUnmount",value:function(){this.load()}},{key:"render",value:function(){return r.a.createElement("div",{className:"mb-2"},r.a.createElement(d.a,null,r.a.createElement(d.a.Header,{as:"h5"},"Trailers \u8eca\u5361"),r.a.createElement(d.a.Body,null,r.a.createElement(b.a,{variant:"flush"},this.state.trailers.map((function(e,t){return r.a.createElement(b.a.Item,{key:t},r.a.createElement("a",{href:"https://t.me/"+e.telegram},"@",e.telegram))}))))))}}]),a}(r.a.Component),v=(r.a.Component,a(20)),f=a(29),y=a(12),k=a(25),C=a(11),S=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={db:p.firestore(),telegram:"",type:"trailer",number:1},n.handleInputChange=n.handleInputChange.bind(Object(v.a)(n)),n.handleTypeChange=n.handleTypeChange.bind(Object(v.a)(n)),n.handleNumberChange=n.handleNumberChange.bind(Object(v.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(v.a)(n)),n}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){this.setState({telegram:e.target.value})}},{key:"handleTypeChange",value:function(e){"trailer"===e.target.value&&this.setState({number:1}),this.setState({type:e.target.value})}},{key:"handleNumberChange",value:function(e){this.setState({number:parseInt(e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault();p.firestore(),this.state.db.collection("queue").add({telegram:this.state.telegram,type:this.state.type,number:this.state.number});this.setState({telegram:"",type:"trailer",number:1})}},{key:"render",value:function(){var e=this.state,t=e.telegram;e.type;return r.a.createElement("div",{className:"mb-2"},r.a.createElement(C.a,{onSubmit:this.handleSubmit},r.a.createElement(C.a.Row,null,r.a.createElement(y.a,null,r.a.createElement(C.a.Group,{controlId:"truckForm.tgIDInput"},r.a.createElement(C.a.Label,null,"Telegram ID"),r.a.createElement(k.a,{className:"mb-2"},r.a.createElement(k.a.Prepend,null,r.a.createElement(k.a.Text,null,"@")),r.a.createElement(C.a.Control,{name:"telegram",type:"text",value:this.state.telegram,onChange:this.handleInputChange})))),r.a.createElement(y.a,null,r.a.createElement(C.a.Group,{controlId:"truckForm.TypeSelect",value:this.state.type,onChange:this.handleTypeChange},r.a.createElement(C.a.Label,null,"I am..."),r.a.createElement(C.a.Control,{as:"select",defaultValue:"trailer"},r.a.createElement("option",{value:"tractor"},"Tractor \u62d6\u982d"),r.a.createElement("option",{value:"trailer"},"Trailer \u8eca\u5361")))),"tractor"===this.state.type?r.a.createElement(y.a,null,r.a.createElement(C.a.Group,{controlId:"truckForm.numberInput"},r.a.createElement(C.a.Label,null,"Trailer(s) mountable"),r.a.createElement(C.a.Control,{name:"number",type:"number",value:this.state.number,onChange:this.handleNumberChange,min:"1",max:"5"}))):null),r.a.createElement("p",null,r.a.createElement("h2",null,"Notice"),r.a.createElement("ol",null,r.a.createElement("li",null,"Please give us ~30 seconds to pair tractor/trailor(s)."),r.a.createElement("li",null,"Submit once only unless your have lost contact with the tractor/trailor."),r.a.createElement("li",null,"Please exchange infol through Secret Chat on Telegram to allow messages to be encrypted."))),r.a.createElement(C.a.Row,null,r.a.createElement(f.a,{variant:"primary",type:"submit",value:"Submit",disabled:""===t},"Submit"))))}}]),a}(r.a.Component),I=a(32),j=a(33);var T=function(){return p.firestore(),r.a.createElement(I.a,null,r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,r.a.createElement("i",{className:"display-2"},"CU Truck Simulator "),r.a.createElement("small",null,"Convocation Public Beta"))),r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Register"),r.a.createElement(S,null),r.a.createElement(j.a,null,r.a.createElement(y.a,{md:8},r.a.createElement("h2",null,"Loading Area"),r.a.createElement(E,null)),r.a.createElement(y.a,{md:4},r.a.createElement("h2",null,"Waiting Area"),r.a.createElement(g,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.5c7d6d11.chunk.js.map